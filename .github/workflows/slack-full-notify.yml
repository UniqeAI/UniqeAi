name: Slack Bildirimleri

on:
  push:
    branches: ["**"]
  pull_request:
    types: [opened, closed, reopened, synchronize]
  issues:
    types: [opened, closed, reopened]
  create:
  delete:

jobs:
  slack-notify:
    runs-on: ubuntu-latest
    steps:
      - name: Slack Bildirim G√∂nder
        env:
          SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }}
        run: |
          EVENT_NAME="${{ github.event_name }}"
          ACTOR="${{ github.actor }}"
          REPO="${{ github.repository }}"
          BRANCH="${{ github.ref_name }}"
          
          case "$EVENT_NAME" in
            push)
              MESSAGE="üöÄ **${ACTOR}** \`${BRANCH}\` branch'ine commit attƒ±"
              if [ -n "${{ github.event.head_commit.message }}" ]; then
                MESSAGE="${MESSAGE}: ${{ github.event.head_commit.message }}"
              fi
              ;;
            pull_request)
              ACTION="${{ github.event.action }}"
              PR_TITLE="${{ github.event.pull_request.title }}"
              MESSAGE="üìã **${ACTOR}** Pull Request ${ACTION}: ${PR_TITLE}"
              ;;
            issues)
              ACTION="${{ github.event.action }}"
              ISSUE_TITLE="${{ github.event.issue.title }}"
              MESSAGE="üêõ **${ACTOR}** Issue ${ACTION}: ${ISSUE_TITLE}"
              ;;
            create)
              REF_TYPE="${{ github.event.ref_type }}"
              REF="${{ github.event.ref }}"
              MESSAGE="üåø **${ACTOR}** yeni ${REF_TYPE} olu≈üturdu: ${REF}"
              ;;
            delete)
              REF_TYPE="${{ github.event.ref_type }}"
              REF="${{ github.event.ref }}"
              MESSAGE="üóëÔ∏è **${ACTOR}** ${REF_TYPE} sildi: ${REF}"
              ;;
            *)
              MESSAGE="üì¢ **${ACTOR}** ${EVENT_NAME} eventi ger√ßekle≈ütirdi"
              ;;
          esac
          
          # Slack'e basit mesaj g√∂nder
          curl -X POST -H 'Content-type: application/json' \
            --data "{\"text\":\"${MESSAGE}\"}" \
            "$SLACK_WEBHOOK_URL" 
